## **Docker: докеризация приложения (lab2)**

Цель лабораторной: собрать из исходного когда и запустить в докере рабочее приложение с базой данных (любое опенсорс - Java, python/django/flask, golang).

1. Образ должен быть легковесным
2. Использовать базовые легковестные образы - alpine
3. Вся конфигурация приложения должна быть через переменные окружения
4. Статика (зависимости) должна быть внешним томом `volume`
5. Создать файл `docker-compose` для старта и сборки
6. В `docker-compose` нужно использовать базу данных (postgresql,mysql,mongodb etc.)
7. При старте приложения должно быть учтено выполнение автоматических миграций
8. Контейнер должен запускаться от непривилегированного пользователя
9. После установки всех нужных утилит, должен очищаться кеш

## **Docker: Мультистейджинг, сборка и запуск (lab3)**

Цель лабораторной: освоить подход создания легковесного образа путем сборки приложения на одном образе, и запуска на другом. Рекомендуется использовать любое опенсорс приложение требующее сборку приложение (Java,C/C++,Golang, Node).

1. Образ должен быть легковесным
2. Использовать базовые легковестные образы - alpine
3. Сборка приложения должна происходить в первом образе
4. Запуск приложения выполняется во втором образе, через копирование артефакта
5. Вся конфигурация выполняется через переменные окружения
6. Сборка и запуск приложения должно быть оформлено в	одном Dockerfile
7. При сборке приложения, каждый этап сборки должен выполняться только при изменении зависимых файлов
8. Создать файл docker-compose для старта и сборки
9. Контейнер должен запускаться от непривилегированного пользователя
10. После установки всех нужных утилит,	должен очищаться кеш


Опенсорсный проект на django с использованием postgre взял из: ```https://github.com/0xStryK3R/Sample-Django-Postgres-Project.git```


Как тестировать:

Сборка:
```docker compose up --build```

Вставка данных:

```docker exec -it my_db sh```


```psql -U carsadmin -d carsdb -f cars_driver_sample_data.sql```


```psql -U carsadmin -d carsdb -f cars_car_sample_data.sql```

Или иным способом добавить данные в бд.

Проверить: ```http://localhost:5000/cars/1``` и ```http://localhost:5000/cars/2```

Можно ещё посмотреть, не ушло ли ничего лишнего в контекст:

```docker exec -it my_db sh```
